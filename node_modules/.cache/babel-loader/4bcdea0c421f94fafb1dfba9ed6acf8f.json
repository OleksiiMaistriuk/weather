{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport { useEffect, useRef, useCallback } from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var CHECK_TIMEOUT = 300; // eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var wrapMenuList = function wrapMenuList(MenuList) {\n  function WrappedMenuList(props) {\n    var _props$selectProps = props.selectProps,\n        handleScrolledToBottom = _props$selectProps.handleScrolledToBottom,\n        shouldLoadMore = _props$selectProps.shouldLoadMore,\n        innerRef = props.innerRef,\n        useEffectProp = props.useEffect,\n        useRefProp = props.useRef,\n        useCallbackProp = props.useCallback,\n        setTimeoutProp = props.setTimeout,\n        clearTimeoutProp = props.clearTimeout;\n    var checkTimeoutRef = useRefProp(null);\n    var menuListRef = useRefProp(null);\n    var shouldHandle = useCallbackProp(function () {\n      var el = menuListRef.current; // menu not rendered\n\n      if (!el) {\n        return false;\n      }\n\n      var scrollTop = el.scrollTop,\n          scrollHeight = el.scrollHeight,\n          clientHeight = el.clientHeight;\n      return shouldLoadMore(scrollHeight, clientHeight, scrollTop);\n    }, [shouldLoadMore]);\n    var checkAndHandle = useCallbackProp(function () {\n      if (shouldHandle()) {\n        if (handleScrolledToBottom) {\n          handleScrolledToBottom();\n        }\n      }\n    }, [shouldHandle, handleScrolledToBottom]);\n    var setCheckAndHandleTimeout = useCallbackProp(function () {\n      checkAndHandle();\n      checkTimeoutRef.current = setTimeoutProp(setCheckAndHandleTimeout, CHECK_TIMEOUT);\n    }, [checkAndHandle]);\n    useEffectProp(function () {\n      setCheckAndHandleTimeout();\n      return function () {\n        if (checkTimeoutRef.current) {\n          clearTimeoutProp(checkTimeoutRef.current);\n        }\n      };\n    }, []);\n    return /*#__PURE__*/_jsx(MenuList, _objectSpread(_objectSpread({}, props), {}, {\n      innerRef: composeRefs(innerRef, menuListRef)\n    }));\n  }\n\n  WrappedMenuList.defaultProps = {\n    useEffect: useEffect,\n    useRef: useRef,\n    useCallback: useCallback,\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout\n  };\n  return WrappedMenuList;\n};","map":null,"metadata":{},"sourceType":"module"}