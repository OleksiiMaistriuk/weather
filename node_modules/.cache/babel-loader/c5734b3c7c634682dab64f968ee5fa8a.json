{"ast":null,"code":"import _slicedToArray from \"C:\\\\apps\\\\weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\apps\\\\weather\\\\src\\\\pages\\\\Home\\\\components\\\\Search\\\\Search.tsx\";\n\nimport { useState } from 'react';\nimport { AsyncPaginate } from 'react-select-async-paginate';\nimport { options } from '../../../../axios/geoApiOptions';\nexport var Search = function Search(onSearchChange) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var handleChange = function handleChange(optionData) {\n    setSearch(optionData);\n  };\n\n  var loadOptions = function loadOptions(inputValue) {\n    return fetch(\"https://wft-geo-db.p.rapidapi.com/v1/geo/cities?minPopulation=1000000&namePrefix=\".concat(inputValue), options).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      return {\n        options: response.data.map(function (city) {\n          return {\n            value: \"\".concat(city.latitude, \" \").concat(city.longitude),\n            label: \"\".concat(city.name, \" \").concat(city.countryCode)\n          };\n        })\n      };\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AsyncPaginate, {\n    placeholder: \"Search the city\",\n    debounceTimeout: 600,\n    value: search // @ts-ignore\n    ,\n    onChange: handleChange // @ts-ignore\n    ,\n    loadOptions: loadOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"names":["useState","AsyncPaginate","options","Search","onSearchChange","search","setSearch","handleChange","optionData","loadOptions","inputValue","fetch","then","response","json","data","map","city","value","latitude","longitude","label","name","countryCode","catch","err","console","error"],"sources":["C:/apps/weather/src/pages/Home/components/Search/Search.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { AsyncPaginate } from 'react-select-async-paginate';\r\nimport { options } from '../../../../axios/geoApiOptions';\r\n\r\ninterface Props {}\r\n\r\ntype MyOption = { label: string; value: number };\r\n\r\nexport const Search = (onSearchChange: Props) => {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const handleChange = (optionData: string) => {\r\n    setSearch(optionData);\r\n  };\r\n\r\n  const loadOptions = (inputValue: string) => {\r\n    return fetch(\r\n      `https://wft-geo-db.p.rapidapi.com/v1/geo/cities?minPopulation=1000000&namePrefix=${inputValue}`,\r\n      options,\r\n    )\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        return {\r\n          options: response.data.map((city: any) => {\r\n            return {\r\n              value: `${city.latitude} ${city.longitude}`,\r\n              label: `${city.name} ${city.countryCode}`,\r\n            };\r\n          }),\r\n        };\r\n      })\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AsyncPaginate\r\n        placeholder=\"Search the city\"\r\n        debounceTimeout={600}\r\n        value={search}\r\n        // @ts-ignore\r\n        onChange={handleChange}\r\n        // @ts-ignore\r\n        loadOptions={loadOptions}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,OAAT,QAAwB,iCAAxB;AAMA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,cAAD,EAA2B;EAAA,gBACnBJ,QAAQ,CAAC,EAAD,CADW;EAAA;EAAA,IACxCK,MADwC;EAAA,IAChCC,SADgC;;EAG/C,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,UAAD,EAAwB;IAC3CF,SAAS,CAACE,UAAD,CAAT;EACD,CAFD;;EAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAwB;IAC1C,OAAOC,KAAK,4FAC0ED,UAD1E,GAEVR,OAFU,CAAL,CAIJU,IAJI,CAIC,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAT,EAAJ;IAAA,CAJT,EAKJF,IALI,CAKC,UAAAC,QAAQ,EAAI;MAChB,OAAO;QACLX,OAAO,EAAEW,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,UAACC,IAAD,EAAe;UACxC,OAAO;YACLC,KAAK,YAAKD,IAAI,CAACE,QAAV,cAAsBF,IAAI,CAACG,SAA3B,CADA;YAELC,KAAK,YAAKJ,IAAI,CAACK,IAAV,cAAkBL,IAAI,CAACM,WAAvB;UAFA,CAAP;QAID,CALQ;MADJ,CAAP;IAQD,CAdI,EAeJC,KAfI,CAeE,UAAAC,GAAG;MAAA,OAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;IAAA,CAfL,CAAP;EAgBD,CAjBD;;EAmBA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,aAAD;IACE,WAAW,EAAC,iBADd;IAEE,eAAe,EAAE,GAFnB;IAGE,KAAK,EAAEpB,MAHT,CAIE;IAJF;IAKE,QAAQ,EAAEE,YALZ,CAME;IANF;IAOE,WAAW,EAAEE,WAPf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF;AAaD,CAvCM"},"metadata":{},"sourceType":"module"}